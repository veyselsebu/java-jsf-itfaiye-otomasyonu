(function(){$(function(){function n(a,b){switch(a.suggestionType){case "Category":return a.breadcrumb.push(a.name),a.breadcrumb.join(" \x3e ");case "POI":return a.name.trim()+(b?" - \x3cspan class\x3d'suggestion-address'\x3e"+a.locationData.cityAndTownName+"\x3c/span\x3e":"");case "Store":case "Project":return a.name.trim();default:return a.phrase.trim()}}function r(a,b){var d=!0,c=!1,g=!1,p=!1,h=!1;a.addClass("searchSuggestion");$.each(b,function(b,e){c||"Category"!=e.value.suggestionType?p||"POI"!=
e.value.suggestionType?g||"Store"!=e.value.suggestionType?h||"Project"!=e.value.suggestionType||(b="\x3cspan\x3e"+m.projects+"\x3c/span\x3e",$('\x3cli class\x3d"categorySeparator"\x3e\x3c/li\x3e').append(b).appendTo(a),h=d=!0):(b="\x3cspan\x3e"+m.stores+"\x3c/span\x3e",$('\x3cli class\x3d"storeSeparator"\x3e\x3c/li\x3e').append(b).appendTo(a),g=d=!0):(b="\x3cspan\x3e"+m.poi+"\x3c/span\x3e",$('\x3cli class\x3d"categorySeparator"\x3e\x3c/li\x3e').append(b).appendTo(a),p=d=!0):(b="\x3cspan\x3e"+m.categories+
"\x3c/span\x3e",$('\x3cli class\x3d"categorySeparator"\x3e\x3c/li\x3e').append(b).appendTo(a),c=d=!0);b=d;var k=f.val().replace("I","\u0131").toLowerCase().replace(/[\u011fg]/g,"[\u011fg]").replace(/[\u00fcu]/g,"[\u00fcu]").replace(/[\u015fs]/g,"[\u015fs]").replace(/[i\u0131]/g,"[i\u0131]").replace(/[\u00f6o]/g,"[\u00f6o]").replace(/[c\u00e7]/g,"[\u00e7c]"),k='\x3ca href\x3d""\x3e'+e.label.replace(new RegExp("((^| )"+k+")","gi"),"\x3cspan\x3e$1\x3c/span\x3e")+(e.desc?"\x3cbr/\x3e\x3cem\x3e"+e.desc+
"\x3c/em\x3e":"")+"\x3c/a\x3e",l="";switch(e.value.suggestionType){case "Category":case "Project":l="searchSuggestionCategory";break;case "Store":l="searchSuggestionStore"}$('\x3cli class\x3d"'+(l+(b?" first-child":""))+'"\x3e\x3c/li\x3e').data("ui-autocomplete-item",e).append(k).appendTo(a);d&&(d=!1)})}function q(a){return a.trim().replace("I","\u0131").toLowerCase().replace(/\u011f/g,"g").replace(/\u00fc/g,"u").replace(/\u015f/g,"s").replace(/\u0131/g,"i").replace(/\u00f6/g,"o").replace(/\u00e7/g,
"c").split(/\b\s+/).sort().join("-")}var g="#searchSuggestionLoadingWrapper{position:relative}#searchSuggestionLoading{display:none}.searchSuggestion.ui-autocomplete{font-family:'Lucida Grande','LucidaGrande',Arial,sans-serif;background:0;z-index:9999999!important;position:absolute;top:38px;left:5px;width:384px;border:0;background-color:#fff;box-shadow:1px 1px 4px 1px #666;border-radius:2px}.searchSuggestion.ui-menu .ui-menu-item{display:block;clear:left}.searchSuggestion.ui-menu .ui-menu-item:first-child,.searchSuggestion.ui-menu .ui-menu-item.first-child{border-top:0}.searchSuggestion.ui-menu .ui-menu-item a{font-size:11px;border:0;background:0;font-weight:700;float:none;display:block;color:#999;text-shadow:none;line-height:16px;padding:6px 9px 6px 14px;margin:0 15px 0 0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.searchSuggestion.ui-menu .ui-menu-item a span:not(.suggestion-address){color:#00339f;font-weight:bold}.searchSuggestion.ui-menu .ui-menu-item a span.suggestion-address{font-size:9px}.searchSuggestion.ui-menu .searchSuggestionStore a{color:#00339f;font-weight:bold}.searchSuggestion.ui-menu .ui-menu-item a strong{color:#00339f;display:block}.searchSuggestion.ui-menu .ui-menu-item a em{color:#a8a8a8;font-size:10px;font-weight:normal;font-style:normal}.searchSuggestion.ui-menu .ui-menu-item a.ui-state-focus,.searchSuggestion.ui-menu .ui-menu-item a.ui-state-active{text-decoration:none;background-color:#eee;border-radius:0!important}.searchSuggestion.ui-menu .categorySeparator{border-bottom:1px solid #d8d8d8;clear:left;*padding:0;border-top:0;text-align:center;position:relative;*position:static;top:-10px;padding-top:3px;margin-top:5px}.searchSuggestion.ui-menu .categorySeparator span{padding:0 10px;*padding:3px 10px;background-color:#fff;display:inline;font-size:12px;top:6px;position:relative}.searchSuggestion.ui-menu .categorySeparator+.first-child a{padding-top:0}.searchSuggestion.ui-menu .storeSeparator{border-bottom:1px solid #d8d8d8;clear:left;*padding:0;border-top:0;text-align:center;position:relative;*position:static;top:-10px;padding-top:3px;margin-top:5px}.searchSuggestion.ui-menu .storeSeparator span{padding:0 10px;*padding:3px 10px;background-color:#fff;display:inline;font-size:12px;top:6px;position:relative}.searchSuggestion.ui-menu .storeSeparator+.first-child a{padding-top:0}.searchSuggestion.ui-menu .noSuggestion{color:#999;font-size:11px;text-align:center;font-style:italic;border-top:0;padding:15px 0}.ui-helper-hidden-accessible{display:none}.ui-autocomplete{padding:0!important}",
h=0==g.indexOf("[[INCLUDE"),c=$("meta[http-equiv\x3dContent-Language]").attr("content");null==c&&"undefined"!=typeof documentLanguage&&(c=documentLanguage);null==c&&(c="tr");var k="tr"==c?"/kelime-ile-arama?query_text\x3d{phrase}":"/en/kelime-ile-arama?query_text\x3d{phrase}",l="tr"==c?"/arama/ara?query_text\x3d{phrase}\x26category\x3d{categoryId}":"/search/do?query_text\x3d{phrase}\x26category\x3d{categoryId}",t="tr"==c?"/arama/ara?searchPoiItem\x3d{searchPoiItem}\x26category\x3d3518":"/search/do?searchPoiItem\x3d{searchPoiItem}\x26category\x3d3518",
u="tr"==c?"/haritada-emlak-arama?searchPoiItem\x3d{searchPoiItem}\x26category\x3d3518":"/search-map?searchPoiItem\x3d{searchPoiItem}\x26category\x3d3518",m={categories:"tr"==c?"Kategoriler":"Categories",stores:"tr"==c?"Ma\u011fazalar":"Stores",poi:"tr"==c?"Yak\u0131n\u0131ndaki Emlak \u0130lanlar\u0131":"Nearby Real Estates",projects:"tr"==c?"Projeler":"Projects"},f=$("#searchText:visible");0!=f.length&&(f.attr("autocomplete","off"),$.ajaxSetup({cache:!1}),f.before('\x3cdiv id\x3d"searchSuggestionLoadingWrapper"\x3e\x3cdiv id\x3d"searchSuggestionLoading"\x3e\x3c/div\x3e\x3c/div\x3e'),
h?document.createStyleSheet?document.createStyleSheet("/resources/css/searchSuggestion/searchSuggestion.css"):$("head").append($('\x3clink rel\x3d"stylesheet" type\x3d"text/css" href\x3d"/resources/css/searchSuggestion/searchSuggestion.css"/\x3e')):(h=location.protocol,"https:"==h&&(g=g.replace("http:",h)),$("head").append($('\x3cstyle type\x3d"text/css"\x3e'+g+"\x3c/style\x3e")),k="https://www.sahibinden.com"+k,l="https://www.sahibinden.com"+l),f.autocomplete({source:function(a,b){$("#searchSuggestionLoading").show();
$.ajax({url:"/ajax/search/phrase",dataType:"json",data:{q:a.term,categoryId:0},success:function(a){$("#searchSuggestionLoading").hide();var c=a.phrasesSuggestedByAdmin,f=a.redirectToMapOnPOISearch;b($.map(a.items,function(a){a.suggestedByAdmin=c;a.redirectToMapOnPOISearch=f;var b=n(a,!0),d;a:switch(a.suggestionType){case "Category":case "Project":d=a.company;break a;default:d=null}return{label:b,desc:d,value:a}}))}})},minLength:2,delay:500,focus:function(a,b){if(/^key/.test(a.originalEvent.originalEvent.type))return f.val(n(b.item.value,
!1)),!1},select:function(a,b){a.preventDefault();a=b.item.value;"Category"==a.suggestionType?b=l.replace("{phrase}","").replace("{categoryId}",a.categoryId):"Store"==a.suggestionType?b="https://{url}.sahibinden.com".replace("{url}",a.url):"POI"==a.suggestionType?b=(a.redirectToMapOnPOISearch?u:t).replace("{searchPoiItem}",a.id):"Project"==a.suggestionType?b="https://www.sahibinden.com{url}".replace("{url}",a.url):(b=encodeURIComponent(a.phrase),b=k.replace("{phrase}",b),a.suggestedByAdmin&&(b+="\x26suggestedByAdmin\x3dtrue"));
window.location.href=b},open:function(){$(".ui-autocomplete").css("z-index",2E4)},close:function(){$(".ui-autocomplete").css("z-index",-1)}}).data("ui-autocomplete")._renderMenu=r,$("#searchSuggestionForm").submit(function(a){var b=q(f.val()),c;$("ul.searchSuggestion li a").each(function(){if(q($(this).text())===b)return c=$(this),!1});c&&(a.preventDefault(),c.trigger("click"))}))})})();